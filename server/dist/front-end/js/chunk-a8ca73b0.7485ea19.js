(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8ca73b0"],{"12d8":function(e,t,c){},"2b12":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),s=Object(n["P"])("data-v-c6448b80");Object(n["w"])("data-v-c6448b80");var i={class:"account-container page-container restrict layout-col"},u=Object(n["j"])("h3",{class:"h3"},"Account Settings",-1),a={class:"controls-container"};Object(n["u"])();var r=s((function(e,t,c,r,o,b){var l=Object(n["B"])("pagesection"),d=Object(n["B"])("verify"),j=Object(n["B"])("unsub");return Object(n["t"])(),Object(n["f"])("main",i,[u,Object(n["j"])(l,{qtitle:"Controls"},{default:s((function(){return[Object(n["j"])("div",a,[Object(n["j"])("button",{class:"button",onClick:t[1]||(t[1]=function(){return b.logout.apply(b,arguments)})},"LOGOUT")])]})),_:1}),Object(n["j"])(l,{id:"verify",qtitle:"Verify Email"},{default:s((function(){return[Object(n["j"])(d,{user:o.user},null,8,["user"])]})),_:1}),Object(n["j"])(l,{id:"unsub",qtitle:"Unsubscribe from Emails"},{default:s((function(){return[Object(n["j"])(j,{user:o.user},null,8,["user"])]})),_:1})])})),o=(c("b0c0"),c("5530")),b=c("5502"),l=c("b143"),d=Object(n["P"])("data-v-6a953e47");Object(n["w"])("data-v-6a953e47");var j={class:"page-section-container"},f={class:"h4"},O={class:"slot-wrapper"};Object(n["u"])();var v=d((function(e,t,c,s,i,u){return Object(n["t"])(),Object(n["f"])("section",j,[Object(n["j"])("h4",f,Object(n["D"])(c.qtitle),1),Object(n["j"])("div",O,[Object(n["A"])(e.$slots,"default")])])})),h={name:"pagesection",props:{qtitle:{type:String,default:"",required:!1}}};c("65ab");h.render=v,h.__scopeId="data-v-6a953e47";var p=h,m=Object(n["P"])("data-v-38c847d6");Object(n["w"])("data-v-38c847d6");var g={class:"verify-container"},w={class:"h4"};Object(n["u"])();var y=m((function(e,t,c,s,i,u){return Object(n["t"])(),Object(n["f"])("section",g,[Object(n["j"])("p",null,"Your email address is "+Object(n["D"])(u.verifystatus),1),c.user.isemailverified?Object(n["g"])("",!0):(Object(n["t"])(),Object(n["f"])("button",{key:0,class:"button",onClick:t[1]||(t[1]=function(){return u.verify.apply(u,arguments)})},"verify")),Object(n["j"])("h6",w,Object(n["D"])(i.servermsg),1)])})),k=(c("d3b7"),c("ac1f"),c("3ca3"),c("841c"),c("ddb0"),c("2b3d"),{name:"verify",props:{user:{type:Object,required:!0}},data:function(){return{servermsg:""}},methods:{verify:function(){var e=this;new URLSearchParams(window.location.search);this.$QAuth.requestverifyemail().then((function(){e.servermsg="We have sent you an email at ".concat(e.getuser.email,", \n                please follow the instructions in the email to complete the verification process")})).catch((function(){l["c"].emit(l["g"],l["b"])}))}},computed:Object(o["a"])({verifystatus:function(){return this.user.isemailverified?"verified, thank you!":"unverified, please click the button below to verify!"}},Object(b["b"])(["getuser"]))});c("86c0");k.render=y,k.__scopeId="data-v-38c847d6";var _=k,q=Object(n["P"])("data-v-16c2728c");Object(n["w"])("data-v-16c2728c");var I={class:"unsub-container"},B=Object(n["j"])("h6",{class:"h6"},"Click here to unsubscribe from all emails from Welcome QR Codes. You can turn them back on at any time.",-1),C={class:"loading-container"},S={key:0,class:"sub-buttons-container"};Object(n["u"])();var $=q((function(e,t,c,s,i,u){var a=Object(n["B"])("loadinginline");return Object(n["t"])(),Object(n["f"])("section",I,[B,Object(n["M"])(Object(n["j"])("div",C,[Object(n["j"])(a,{large:!0})],512),[[n["I"],i.networkinprogress]]),Object(n["M"])(Object(n["j"])("template",null,[Object(n["j"])("p",null,"You are currently "+Object(n["D"])(u.substatus)+" all emails.",1),i.networkinprogress?Object(n["g"])("",!0):(Object(n["t"])(),Object(n["f"])("div",S,[Object(n["j"])("div",{class:["sub-button",i.issubbed?"active":"inactive"],onClick:t[1]||(t[1]=function(e){return u.subclicked("sub")})},"SUBSCRIBED",2),Object(n["j"])("div",{class:["sub-button",i.issubbed?"inactive":"active"],onClick:t[2]||(t[2]=function(e){return u.subclicked("unsub")})},"UNSUBSCRIBED",2)]))],512),[[n["I"],!i.networkinprogress]])])})),A=Object(n["P"])("data-v-cb20cdb2");Object(n["w"])("data-v-cb20cdb2");var D=Object(n["j"])("span",null,null,-1),U=Object(n["j"])("span",null,null,-1),E=Object(n["j"])("span",null,null,-1),P=Object(n["j"])("span",null,null,-1);Object(n["u"])();var Q=A((function(e,t,c,s,i,u){return Object(n["t"])(),Object(n["f"])("div",{id:c.large?"square6":"square5"},[D,U,E,P],8,["id"])})),R={name:"loadinginline",props:{large:{type:Boolean,default:!1}}};c("8d07");R.render=Q,R.__scopeId="data-v-cb20cdb2";var T=R,Y={name:"unsub",props:{user:{type:Object,required:!0}},components:{loadinginline:T},data:function(){return{issubbed:this.user.allowsemails,networkinprogress:!1}},methods:{subclicked:function(e){!0===this.issubbed&&"unsub"===e&&this.dotoggle(),!1===this.issubbed&&"sub"===e&&this.dotoggle()},dotoggle:function(){var e=this;this.networkinprogress=!0,this.$QAuth.togglesubscribe(!this.issubbed).then((function(t){e.issubbed=t.data.content.allow,e.networkinprogress=!1}))}},computed:{substatus:function(){return this.issubbed?"subscribed to":"unsubscribed from"}},watch:{user:function(){this.issubbed=this.user.allowsemails}}};c("ce73");Y.render=$,Y.__scopeId="data-v-16c2728c";var H=Y,J={name:"account",components:{pagesection:p,unsub:H,verify:_},data:function(){return{user:{}}},created:function(){var e=this;l["c"].emit(l["d"],!0),this.$QAuth.usersettings().then((function(t){e.$store.commit("IS_AUTHED",t.data.user),e.user=t.data.user,l["c"].emit(l["d"],!1)}))},methods:{logout:function(){var e=this;this.$QAuth.logout().then((function(t){e.$store.commit("IS_AUTHED",t.data.user),l["c"].emit(l["g"],l["f"]),"home"!==e.$route.name&&e.$router.push({name:"home"})}))}},computed:Object(o["a"])({},Object(b["b"])(["isauthed"]))};c("d816");J.render=r,J.__scopeId="data-v-c6448b80";t["default"]=J},"4e1f":function(e,t,c){},"65ab":function(e,t,c){"use strict";c("9297")},"790d":function(e,t,c){},"86c0":function(e,t,c){"use strict";c("4e1f")},"8d07":function(e,t,c){"use strict";c("790d")},9297:function(e,t,c){},c611:function(e,t,c){},ce73:function(e,t,c){"use strict";c("12d8")},d816:function(e,t,c){"use strict";c("c611")}}]);
//# sourceMappingURL=chunk-a8ca73b0.7485ea19.js.map